<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Login</title>
  <style>
    body{font-family:Arial;}
    .box{width:260px;margin:40px auto;}
    label{display:inline-block;width:90px;}
    input{padding:4px;}
    button{margin-left:90px;margin-top:6px;}
  </style>
</head>
<body>
  <div class="box">
    <div><label>Name:</label><input id="username" type="text" placeholder="Your Name"></div>
    <div><label>Password:</label><input id="password" type="password" placeholder="Your password"></div>
    <button onclick="login()">Log in</button>
    <div><a href="register.html">Register</a></div>
    <div id="msg"></div>
  </div>

  <script>
    async function login(){
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      const res = await fetch('/login', {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify({ username, password })
      });
      const data = await res.json();
      if (data.ok) {
        window.location = 'home.html';
      } else {
        document.getElementById('msg').innerText = 'Invalid credentials';
      }
    }
  </script>
</body>
</html>